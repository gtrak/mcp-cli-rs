---
phase: 26-readme-and-documentation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - README.md
autonomous: true
user_setup: []

must_haves:
  truths:
    - README.md exists at project root
    - README includes installation instructions for all platforms
    - README shows basic usage examples
    - README documents configuration format
    - README documents all commands with examples (list, info, tool, call, search)
    - README includes development setup instructions
    - README includes troubleshooting section
  artifacts:
    - path: README.md
      provides: Comprehensive project documentation
      min_lines: 150
      sections:
        - Quick start
        - Installation
        - Usage
        - Configuration
        - Commands
        - Development
        - Troubleshooting
  key_links:
    - from: README commands section
      to: src/cli/entry.rs
      via: Command examples match actual CLI
    - from: README configuration section
      to: src/config/types.rs
      via: Config format matches ServerConfig/ServerTransport
---

<objective>
Create comprehensive README.md documenting the MCP CLI Rust tool with installation, usage, configuration, and examples.

Purpose: Enable users to install, configure, and use the tool effectively. Highlight key differentiators from the original Bun-based implementation (Windows support via named pipes, no runtime dependencies).

Output: README.md at project root covering all DOC-01 through DOC-07 requirements.
</objective>

<execution_context>
@./.opencode/get-shit-done/workflows/execute-plan.md
@./.opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/26-readme-and-documentation/26-CONTEXT.md
@/home/gary/dev/mcp-cli-rs/src/cli/entry.rs
@/home/gary/dev/mcp-cli-rs/src/config/types.rs
@/home/gary/dev/mcp-cli-rs/Cargo.toml
</context>

<tasks>

<task type="auto">
  <name>Create comprehensive README.md</name>
  <files>README.md</files>
  <action>
Create a comprehensive README.md at project root with the following structure and content:

## Structure (in order):

1. **Title and Badges** - Project name with relevant badges (Rust, License, etc.)

2. **One-line description** - "MCP CLI client in Rust - Cross-platform MCP server interaction without runtime dependencies"

3. **Quick Start** (top of README):
   - Installation command
   - Config file setup
   - First command example: `mcp list`

4. **Why This Rewrite?** - Reference original Bun-based MCP CLI (github.com/f/modelcontextprotocol) and highlight:
   - Windows support via named pipes (vs no Windows support in original)
   - No runtime dependencies (compiled binary)
   - Cross-platform: Linux (Unix sockets), Windows (named pipes), macOS (Unix sockets)

5. **Installation** (DOC-02):
   - Prerequisites: Rust toolchain
   - From source: `cargo install --path .` or `cargo build --release`
   - Platform-specific notes (Windows named pipes support)

6. **Usage** (DOC-03):
   - Basic command structure
   - Two format styles: `server/tool` (slash) or `server tool` (space)
   - Show examples: `mcp list`, `mcp info filesystem`, `mcp call filesystem/read_file '{}'`

7. **Configuration** (DOC-04):
   - Config file location: `~/.config/mcp/mcp_servers.toml` (or `mcp.toml`)
   - TOML format with stdio and HTTP transports
   - Example config:
     ```toml
     [[servers]]
     name = "filesystem"
     transport = { type = "stdio", command = "npx", args = ["-y", "@modelcontextprotocol/server-filesystem", "/home/user"] }
     
     [[servers]]
     name = "http-server"
     transport = { type = "http", url = "http://localhost:3000/mcp" }
     ```
   - Configuration options: retry_max, retry_delay_ms, timeout_secs, daemon_ttl, concurrency_limit

8. **Commands** (DOC-05) - Document each command with examples:
   
   **list** - List all servers and their tools
   - `mcp list` - Basic listing
   - `mcp list -d` - With descriptions
   - `mcp list --json` - JSON output
   
   **info** - Show server details
   - `mcp info filesystem` - Server info
   - `mcp info filesystem read_file` - Tool schema
   
   **call** - Execute a tool
   - `mcp call filesystem read_file '{"path": "/etc/hosts"}'`
   - `mcp call filesystem/read_file '{"path": "/etc/hosts"}'` (slash format)
   
   **search** - Search tools by pattern
   - `mcp search "*file*"` - Pattern matching
   
   **daemon** - Connection caching
   - `mcp daemon` - Start daemon
   - `mcp shutdown` - Stop daemon
   - Environment variables: MCP_NO_DAEMON=1, MCP_DAEMON_TTL=N
   
   **Global flags**:
   - `-c, --config <PATH>` - Custom config file
   - `--json` - JSON output mode
   - `--no-daemon` - Direct mode (no caching)
   - `--auto-daemon` - Auto-spawn daemon (default)
   - `--require-daemon` - Fail if daemon not running

9. **Development** (DOC-06):
   - Clone and build: `git clone`, `cargo build`
   - Run tests: `cargo test --lib` and `cargo test --test '*'`
   - Project structure overview
   - Contributing notes

10. **Troubleshooting** (DOC-07):
    - "Daemon not running" - Run `mcp daemon` or use `--no-daemon`
    - "Config file not found" - Create at ~/.config/mcp/mcp_servers.toml
    - "Tool not found" - Check server name and tool name
    - "Connection refused" - Verify MCP server is installed and running
    - Windows-specific: Named pipes require daemon mode

**Style notes per CONTEXT.md:**
- Keep it tight and focused - no bloat
- Emphasize Windows named pipes support prominently
- Show syntax differences from original Bun implementation
- Quick start should get users running in under 5 minutes
- Code examples should be copy-paste ready

**Verification:** After writing, confirm all sections are present and README renders correctly in Markdown.
  </action>
  <verify>cat README.md | head -20 && echo "---" && wc -l README.md</verify>
  <done>README.md exists with all required sections (Quick Start, Installation, Usage, Configuration, Commands, Development, Troubleshooting) and minimum 150 lines</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Comprehensive README.md at project root covering all documentation requirements (DOC-01 through DOC-07)</what-built>
  <how-to-verify>
    1. Open README.md and verify structure:
       - [ ] Title and badges present
       - [ ] Quick start section at top
       - [ ] "Why This Rewrite?" section referencing original Bun implementation
       - [ ] Installation instructions (all platforms)
       - [ ] Usage examples showing both slash and space formats
       - [ ] Configuration section with TOML examples
       - [ ] All commands documented: list, info, call, search, daemon, shutdown
       - [ ] Development setup instructions
       - [ ] Troubleshooting section
    
    2. Check content quality:
       - [ ] Windows named pipes highlighted as key differentiator
       - [ ] No runtime dependencies mentioned
       - [ ] Cross-platform support (Linux/Windows/macOS) clear
       - [ ] Examples are copy-paste ready
       - [ ] Documentation is tight and focused (no fluff)
    
    3. Technical accuracy spot-check:
       - [ ] Command examples match actual CLI behavior
       - [ ] Config format matches TOML structure
       - [ ] Environment variables (MCP_NO_DAEMON, MCP_DAEMON_TTL) documented
  </how-to-verify>
  <resume-signal>Type "approved" or describe issues that need correction</resume-signal>
</task>

</tasks>

<verification>
- README.md exists at project root (DOC-01)
- All 7 DOC requirements satisfied
- Documentation renders correctly as Markdown
- Technical accuracy verified (commands, config format, examples)
</verification>

<success_criteria>
- README.md created with 150+ lines
- All sections present: Quick Start, Installation, Usage, Configuration, Commands, Development, Troubleshooting
- Windows named pipes support prominently featured
- Original Bun implementation referenced
- Cross-platform support documented
- Copy-paste ready examples for all commands
- Configuration format matches actual TOML structure
</success_criteria>

<output>
After completion, create `.planning/phases/26-readme-and-documentation/26-01-SUMMARY.md` documenting what was created and any notes for future reference.
</output>
