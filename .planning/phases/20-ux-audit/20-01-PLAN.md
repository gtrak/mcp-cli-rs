---
phase: 20-ux-audit
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: []
autonomous: true
user_setup: []

must_haves:
  truths:
    - "User can view --help and understand all commands and flags"
    - "User sees helpful error messages when they make mistakes"
    - "CLI behavior is intuitive compared to original Bun implementation"
  artifacts:
    - path: "src/cli/"
      provides: "CLI command definitions for --help"
    - path: "src/error.rs"
      provides: "Error message definitions"
    - path: "../mcp-cli"
      provides: "Original Bun CLI for comparison"
  key_links: []
---

<objective>
Audit help text, CLI interface, and error messages — compare to original Bun implementation for intuitive behavior.

Purpose: Identify gaps between Rust CLI and original Bun CLI UX, fix help text issues, improve error messages.
Output: Documented UX gaps with specific fixes to implement.
</objective>

<execution_context>
@./.opencode/get-shit-done/workflows/execute-plan.md
@./.opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/REQUIREMENTS.md
@.planning/ROADMAP.md

# Reference files for comparison
@src/cli/mod.rs
@src/error.rs

# Original Bun CLI (for comparison)
@../mcp-cli/src/index.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Audit Rust CLI --help output</name>
  <files>src/cli/*.rs</files>
  <action>
Run the Rust CLI with --help on each command and document:
- Main help: `cargo run -- --help`
- Each subcommand: `cargo run -- list --help`, `cargo run -- call --help`, etc.
- Document all flags, their descriptions, and whether they're intuitive

Compare to what users would expect from a CLI tool.
  </action>
  <verify>
All --help outputs captured and documented</verify>
  <done>Complete inventory of Rust CLI help text with flags documented</done>
</task>

<task type="auto">
  <name>Task 2: Audit original Bun CLI help text</name>
  <files>../mcp-cli</files>
  <action>
Run the original Bun CLI with --help on each command:
- Check if original has help text
- Document flags, descriptions, examples provided
- Note any differences in command structure or flag names

This is at ../mcp-cli - check package.json for commands.
  </action>
  <verify>All original CLI help outputs captured</verify>
  <done>Complete inventory of original Bun CLI help text</done>
</task>

<task type="auto">
  <name>Task 3: Compare and identify UX gaps</name>
  <files></files>
  <action>
Create a comparison document identifying:

1. **Flag differences** - Which flags exist in one but not the other
2. **Naming differences** - e.g., --servers vs --server, --json vs --output json
3. **Help clarity** - Which help text is more helpful/clear
4. **Missing examples** - Where original has examples that Rust CLI lacks

Prioritize gaps by user impact.
  </action>
  <verify>Gap document created with prioritized list</verify>
  <done>UX gap document with prioritized list of differences to address</done>
</task>

<task type="auto">
  <name>Task 4: Audit error messages</name>
  <files>src/error.rs</files>
  <action>
Test error scenarios in the Rust CLI and document error messages:
- Missing config file
- Invalid JSON in config
- Server connection failure
- Invalid tool arguments
- Missing required arguments

Compare clarity and helpfulness of each error.
  </action>
  <verify>Error messages documented</verify>
  <done>Complete inventory of error messages with clarity assessment</done>
</task>

<task type="auto">
  <name>Task 5: Document fixes for Phase 21</name>
  <files></files>
  <action>
Compile all findings into a document for Phase 21:

1. Help text issues to fix (with specific text)
2. Flag naming inconsistencies to address
3. Missing help examples to add
4. Error messages to improve

Format as actionable items for Phase 21 implementation.
  </action>
  <verify>Document ready for Phase 21</verify>
  <done>Phase 21 implementation guide created</done>
</task>

</tasks>

<verification>
- All help outputs from Rust CLI captured
- All help outputs from original Bun CLI captured  
- Gap comparison document created
- Error message audit complete
- Phase 21 fix清单 created
</verification>

<success_criteria>
Complete UX audit comparing Rust CLI to original Bun implementation with documented gaps and prioritized fixes for Phase 21.
</success_criteria>

<output>
After completion, create `.planning/phases/20-ux-audit/20-01-SUMMARY.md`
</output>
