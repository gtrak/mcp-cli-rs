# Milestone v1.6: CLI Calling Conventions

**Status:** ✅ SHIPPED 2026-02-14
**Phases:** 22-23
**Total Plans:** 2

## Overview

Add bash-style calling conventions and fix JSON help text. This milestone enables more ergonomic CLI usage with `--key value` syntax while maintaining backward compatibility.

## Phases

### Phase 22: Dynamic Flag Parsing

**Goal**: Parse `--key value` as JSON fields
**Depends on**: v1.5 completion
**Plans**: 1 plan

Plans:

- [x] 22-01: Dynamic flag parsing implementation

**Details:**
- Parse `--key value` as JSON field `{"key": "value"}`
- Parse `--key=value` as JSON field `{"key": "value"}`
- Parse JSON values directly: `--key {"a":1}` → `{"key": {"a": 1}}`
- Fall back to JSON argument if no flags provided (backward compatibility)

### Phase 23: Help Text Improvements

**Goal**: Fix JSON error message and document both formats
**Depends on**: Phase 22
**Plans**: 1 plan

Plans:

- [x] 23-01: Help text improvements

**Details:**
- Error shows valid JSON format `{"key": "value"}`
- Help documents both JSON and --args formats
- Shows example for flag usage in call command help
- Update list command to show calling hint for tools

---

## Milestone Summary

**Key Decisions:**
- Treat lone `--flag` without value as boolean `true` (standard CLI convention)
- Error message enhancement shows both JSON and flag formats
- Calling hint added to list command output

**Issues Resolved:**
- Error message now shows: "Use JSON format: {\"key\": \"value\"} or flags: --key value"
- Call command help now includes description: "Supports two argument formats: JSON or flag style"
- List command output includes: "Call with: 'mcp call <server>/<tool> --key value'"

**Technical Debt Incurred:**
- None

---

_For current project status, see .planning/ROADMAP.md_

---

## Requirements Coverage

| Requirement | Status |
|-------------|--------|
| ARGS-01: Parse --key value | ✅ Complete |
| ARGS-02: Parse --key=value | ✅ Complete |
| ARGS-03: Parse JSON values | ✅ Complete |
| ARGS-04: Backward compatibility | ✅ Complete |
| HELP-01: Fix JSON error format | ✅ Complete |
| HELP-02: Document both formats | ✅ Complete |
| HELP-03: Flag usage example | ✅ Complete |
| HELP-04: List calling hint | ✅ Complete |

**Total:** 9/9 requirements (100%)

---

*Archived: 2026-02-14*
